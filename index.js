const csv = require('csvtojson');
const filePath = './data/DAT_ASCII_EURUSD_M1_201701.csv';

let csvData = [];

csv({noheader:true,delimiter:';'})
.fromFile(filePath)
.on('json',(jsonObj)=>{
    csvData.push(jsonObj);
})
.on('done',(error)=>{

    seperationSize = 0.7 * csvData.length;
    console.log(seperationSize,error,csvData.length, csvData.slice(seperationSize).length);
});

// return;
// var X = [[170000,1.087010],[170100,1.087120],[170200,1.087080],[170300,1.087170],[170400,1.087180],[170500,1.087030],[170600,1.087210],[170700,1.087120],[170800,1.087110],[170900,1.087160],[171000,1.087070],[171100,1.087000],[171200,1.086630],[171300,1.086610],[171400,1.086630],[171500,1.086660],[171600,1.086690],[171700,1.086650],[171800,1.086690],[171900,1.086650],[172000,1.086630],[172100,1.086740],[172200,1.087140],[172300,1.086930],[172400,1.087040],[172500,1.086710],[172600,1.086880],[172700,1.086860],[172800,1.086740],[172900,1.086740],[173000,1.086740],[173100,1.086900],[173200,1.086930],[173300,1.086840],[173400,1.086840],[173500,1.086800],[173600,1.086810],[173700,1.086890],[173800,1.086890],[173900,1.086800],[174000,1.086800],[174100,1.086710],[174200,1.086740],[174300,1.086720],[174400,1.086740],[174500,1.086740],[174600,1.086870],[174700,1.086820],[174800,1.086750],[174900,1.086740],[175000,1.086700],[175100,1.086600],[175300,1.086640],[175400,1.086630],[175500,1.086550],[175600,1.086700],[175800,1.086660],[175900,1.086630],[180000,1.086620],[180100,1.086440],[180200,1.086390],[180300,1.086390],[180400,1.085840],[180500,1.085440],[180600,1.085640],[180700,1.085690],[180800,1.085580],[180900,1.085570],[181000,1.085450],[181100,1.085520],[181200,1.085680],[181300,1.085640],[181400,1.085670],[181500,1.085710],[181600,1.085710],[181700,1.085820],[181800,1.085940],[181900,1.085730],[182000,1.085710],[182100,1.085460],[182200,1.085410],[182300,1.085390],[182400,1.085400],[182500,1.084860],[182600,1.084750],[182700,1.084820],[182800,1.084870],[182900,1.084870],[183000,1.084910],[183100,1.084710],[183200,1.084680],[183300,1.084810],[183400,1.084840],[183500,1.084890],[183600,1.085050],[183700,1.085050],[183800,1.085060],[183900,1.085110],[184000,1.085150],[184100,1.085180],[184200,1.085260],[184300,1.085250],[184400,1.085240],[184500,1.085220],[184600,1.085340],[184700,1.085360],[184800,1.085510],[184900,1.085360],[185000,1.085210],[185100,1.085180],[185200,1.085420],[185300,1.085320],[185400,1.085220],[185500,1.085190],[185600,1.085210],[185700,1.085200],[185800,1.085220],[185900,1.085220],[190000,1.085170],[190100,1.085660],[190200,1.085440],[190300,1.085570],[190400,1.085520],[190500,1.085530],[190600,1.085660],[190700,1.085680],[190800,1.085640],[190900,1.085620],[191000,1.085520],[191100,1.085660],[191200,1.085530],[191300,1.085550],[191400,1.085500],[191500,1.085510],[191600,1.085630],[191700,1.085320],[191800,1.085130],[191900,1.085250],[192000,1.085130],[192100,1.085100],[192200,1.085040],[192300,1.085070],[192400,1.085150],[192500,1.085150],[192600,1.085130],[192700,1.085040],[192800,1.085100],[192900,1.085030],[193000,1.084820],[193100,1.084770],[193200,1.084830],[193300,1.084950],[193400,1.085130],[193500,1.085160],[193600,1.085030],[193700,1.084870],[193800,1.084830],[193900,1.084820],[194000,1.084790],[194100,1.084540],[194200,1.084520],[194300,1.084510],[194400,1.084420],[194500,1.084420],[194600,1.084410],[194700,1.084510],[194800,1.084550],[194900,1.084400],[195000,1.084440],[195100,1.084500],[195200,1.084430],[195300,1.084430],[195400,1.084410],[195500,1.084480],[195600,1.084440],[195700,1.084450],[195800,1.084550],[195900,1.084450],[200000,1.084530],[200100,1.084630],[200200,1.084620],[200300,1.084430],[200400,1.084320],[200500,1.084240],[200600,1.083990],[200700,1.083710],[200800,1.083950],[200900,1.083950],[201000,1.083930],[201100,1.084020],[201200,1.083920],[201300,1.083860],[201400,1.083740],[201500,1.083470],[201600,1.083340],[201700,1.083270],[201800,1.083190],[201900,1.083030],[202000,1.082760],[202100,1.083110],[202200,1.082930],[202300,1.083100],[202400,1.083200],[202500,1.083260],[202600,1.083340],[202700,1.083590],[202800,1.083440],[202900,1.083580],[203000,1.083650],[203100,1.083830],[203200,1.083940],[203300,1.083930],[203400,1.083720],[203500,1.083940],[203600,1.084130],[203700,1.084150],[203800,1.084170],[203900,1.084050],[204000,1.084260],[204100,1.084230],[204200,1.084440],[204300,1.084430],[204400,1.084420],[204500,1.084220],[204600,1.084220],[204700,1.084290],[204800,1.084450],[204900,1.084870],[205000,1.084950],[205100,1.084870],[205200,1.084960],[205300,1.085420],[205400,1.085550],[205500,1.085690],[205600,1.085690],[205700,1.085690],[205800,1.086010],[205900,1.086050],[210000,1.085990],[210100,1.086420],[210200,1.086610],[210300,1.086440],[210400,1.086460],[210500,1.086230],[210600,1.086540],[210700,1.086130],[210800,1.086040],[210900,1.086110],[211000,1.086150],[211100,1.086310],[211200,1.086280],[211300,1.085910],[211400,1.086050],[211500,1.086310],[211600,1.086180],[211700,1.085970],[211800,1.086040],[211900,1.086230],[212000,1.086020],[212100,1.086040],[212200,1.086180],[212300,1.086110],[212400,1.086250],[212500,1.086130],[212600,1.086000],[212700,1.086130],[212800,1.086230],[212900,1.086340],[213000,1.086580],[213100,1.086430],[213200,1.086440],[213300,1.086430],[213400,1.086340],[213500,1.086380],[213600,1.086540],[213700,1.086660],[213800,1.086620],[213900,1.086650],[214000,1.086620],[214100,1.086770],[214200,1.086870],[214300,1.086620],[214400,1.086630],[214500,1.086670],[214600,1.086580],[214700,1.087240],[214800,1.087330],[214900,1.087070],[215000,1.086980],[215100,1.086930],[215200,1.086880],[215300,1.086540],[215400,1.086770],[215500,1.086690],[215600,1.086730],[215700,1.086850],[215800,1.086860],[215900,1.087230],[220000,1.087140],[220100,1.087250],[220200,1.087260],[220300,1.087150],[220400,1.087140],[220500,1.087140],[220600,1.087050],[220700,1.087030],[220800,1.086960],[220900,1.087060],[221000,1.087020],[221100,1.086950],[221200,1.087030],[221300,1.087010],[221400,1.086950],[221500,1.086860],[221600,1.086930],[221700,1.086890],[221800,1.087000],[221900,1.086960],[222000,1.086930],[222100,1.086880],[222200,1.087040],[222300,1.087100],[222400,1.087030],[222500,1.086950],[222600,1.087050],[222700,1.086970],[222800,1.087040],[222900,1.086960],[223000,1.086870],[223100,1.087070],[223200,1.087060],[223300,1.087050],[223400,1.086930],[223500,1.086920],[223600,1.086870],[223700,1.086730],[223800,1.086730],[223900,1.086820],[224000,1.086740],[224100,1.086840],[224200,1.086850],[224300,1.086930],[224400,1.087050],[224500,1.086970],[224600,1.086950],[224700,1.086890],[224800,1.086870],[224900,1.086880],[225000,1.086860],[225100,1.086880],[225200,1.086880],[225300,1.087140],[225400,1.087060],[225500,1.087100],[225600,1.087140],[225700,1.087160],[225800,1.087140],[225900,1.087140],[230000,1.087120],[230100,1.087180],[230200,1.087160],[230300,1.087100],[230400,1.087040],[230500,1.087030],[230600,1.086940],[230700,1.087130],[230800,1.087030],[230900,1.087130],[231000,1.087130],[231100,1.087130],[231200,1.087140],[231300,1.087140],[231400,1.087140],[231500,1.087130],[231600,1.087260],[231700,1.087440],[231800,1.087450],[231900,1.087580],[232000,1.087580],[232100,1.087560],[232200,1.087610],[232300,1.087540],[232400,1.087500],[232500,1.087360],[232600,1.087510],[232700,1.087760],[232800,1.087850],[232900,1.087770],[233000,1.087690],[233100,1.087530],[233200,1.087560],[233300,1.087660],[233400,1.087740],[233500,1.087750],[233600,1.087850],[233700,1.087820],[233800,1.087870],[233900,1.088040],[234000,1.088140],[234100,1.088140],[234200,1.087950],[234300,1.087940],[234400,1.087760],[234500,1.087850],[234600,1.087940],[234700,1.087920],[234800,1.088020],[234900,1.088150],[235000,1.088050],[235100,1.087940],[235200,1.087800],[235300,1.087880],[235400,1.087830],[235500,1.087750],[235600,1.087760],[235700,1.087760],[235800,1.087870],[235900,1.087850]];
// var y = [1.087120,1.087080,1.087170,1.087180,1.087030,1.087210,1.087120,1.087110,1.087160,1.087070,1.087000,1.086630,1.086610,1.086630,1.086660,1.086690,1.086650,1.086690,1.086650,1.086630,1.086740,1.087140,1.086930,1.087040,1.086710,1.086880,1.086860,1.086740,1.086740,1.086740,1.086900,1.086930,1.086840,1.086840,1.086800,1.086810,1.086890,1.086890,1.086800,1.086800,1.086710,1.086740,1.086720,1.086740,1.086740,1.086870,1.086820,1.086750,1.086740,1.086700,1.086600,1.086640,1.086630,1.086550,1.086700,1.086660,1.086630,1.086620,1.086440,1.086390,1.086390,1.085840,1.085440,1.085640,1.085690,1.085580,1.085570,1.085450,1.085520,1.085680,1.085640,1.085670,1.085710,1.085710,1.085820,1.085940,1.085730,1.085710,1.085460,1.085410,1.085390,1.085400,1.084860,1.084750,1.084820,1.084870,1.084870,1.084910,1.084710,1.084680,1.084810,1.084840,1.084890,1.085050,1.085050,1.085060,1.085110,1.085150,1.085180,1.085260,1.085250,1.085240,1.085220,1.085340,1.085360,1.085510,1.085360,1.085210,1.085180,1.085420,1.085320,1.085220,1.085190,1.085210,1.085200,1.085220,1.085220,1.085170,1.085660,1.085440,1.085570,1.085520,1.085530,1.085660,1.085680,1.085640,1.085620,1.085520,1.085660,1.085530,1.085550,1.085500,1.085510,1.085630,1.085320,1.085130,1.085250,1.085130,1.085100,1.085040,1.085070,1.085150,1.085150,1.085130,1.085040,1.085100,1.085030,1.084820,1.084770,1.084830,1.084950,1.085130,1.085160,1.085030,1.084870,1.084830,1.084820,1.084790,1.084540,1.084520,1.084510,1.084420,1.084420,1.084410,1.084510,1.084550,1.084400,1.084440,1.084500,1.084430,1.084430,1.084410,1.084480,1.084440,1.084450,1.084550,1.084450,1.084530,1.084630,1.084620,1.084430,1.084320,1.084240,1.083990,1.083710,1.083950,1.083950,1.083930,1.084020,1.083920,1.083860,1.083740,1.083470,1.083340,1.083270,1.083190,1.083030,1.082760,1.083110,1.082930,1.083100,1.083200,1.083260,1.083340,1.083590,1.083440,1.083580,1.083650,1.083830,1.083940,1.083930,1.083720,1.083940,1.084130,1.084150,1.084170,1.084050,1.084260,1.084230,1.084440,1.084430,1.084420,1.084220,1.084220,1.084290,1.084450,1.084870,1.084950,1.084870,1.084960,1.085420,1.085550,1.085690,1.085690,1.085690,1.086010,1.086050,1.085990,1.086420,1.086610,1.086440,1.086460,1.086230,1.086540,1.086130,1.086040,1.086110,1.086150,1.086310,1.086280,1.085910,1.086050,1.086310,1.086180,1.085970,1.086040,1.086230,1.086020,1.086040,1.086180,1.086110,1.086250,1.086130,1.086000,1.086130,1.086230,1.086340,1.086580,1.086430,1.086440,1.086430,1.086340,1.086380,1.086540,1.086660,1.086620,1.086650,1.086620,1.086770,1.086870,1.086620,1.086630,1.086670,1.086580,1.087240,1.087330,1.087070,1.086980,1.086930,1.086880,1.086540,1.086770,1.086690,1.086730,1.086850,1.086860,1.087230,1.087140,1.087250,1.087260,1.087150,1.087140,1.087140,1.087050,1.087030,1.086960,1.087060,1.087020,1.086950,1.087030,1.087010,1.086950,1.086860,1.086930,1.086890,1.087000,1.086960,1.086930,1.086880,1.087040,1.087100,1.087030,1.086950,1.087050,1.086970,1.087040,1.086960,1.086870,1.087070,1.087060,1.087050,1.086930,1.086920,1.086870,1.086730,1.086730,1.086820,1.086740,1.086840,1.086850,1.086930,1.087050,1.086970,1.086950,1.086890,1.086870,1.086880,1.086860,1.086880,1.086880,1.087140,1.087060,1.087100,1.087140,1.087160,1.087140,1.087140,1.087120,1.087180,1.087160,1.087100,1.087040,1.087030,1.086940,1.087130,1.087030,1.087130,1.087130,1.087130,1.087140,1.087140,1.087140,1.087130,1.087260,1.087440,1.087450,1.087580,1.087580,1.087560,1.087610,1.087540,1.087500,1.087360,1.087510,1.087760,1.087850,1.087770,1.087690,1.087530,1.087560,1.087660,1.087740,1.087750,1.087850,1.087820,1.087870,1.088040,1.088140,1.088140,1.087950,1.087940,1.087760,1.087850,1.087940,1.087920,1.088020,1.088150,1.088050,1.087940,1.087800,1.087880,1.087830,1.087750,1.087760,1.087760,1.087870,1.087850,1.087940];



// var SVM = require('ml-svm');

// var options = {
//     //C: 0.000001,
//     // tol: 10e-4,
//     // maxPasses: 10,
//     // maxIterations: 10000,
//     // kernel: 'rbf',
//     // kelnelOptions: {
//     //     sigma: 0.5
//     // }
// };

// var svm = new SVM(options);

// svm.train(X,y);
// var Y = svm.predict(X);

// console.log(svm.toJSON(X));
// console.log(Y);


